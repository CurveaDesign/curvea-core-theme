<footer class="{{ section.settings.bg_class }} {{ section.settings.text_class }} {{ section.settings.py }}">
  <div class="{{ section.settings.container }} space-y-10">
    <div class="grid gap-8 md:grid-cols-3">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'link_column' %}
            <div {{ block.shopify_attributes }}>
              {% if block.settings.heading != blank %}
                {% render 'cc-heading', tag: 'h3', text: block.settings.heading, classes: 'text-sm font-semibold uppercase tracking-wide' %}
              {% endif %}
              {% if block.settings.menu != blank %}
                <ul class="mt-4 space-y-2 text-sm">
                  {% for link in linklists[block.settings.menu].links %}
                    <li>
                      <a href="{{ link.url }}" class="transition-opacity hover:opacity-75">{{ link.title }}</a>
                    </li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          {% when 'text' %}
            <div {{ block.shopify_attributes }}>
              <div class="prose prose-sm max-w-none text-inherit">
                {{ block.settings.content }}
              </div>
            </div>
          {% when 'social' %}
            <div {{ block.shopify_attributes }}>
              {% if block.settings.heading != blank %}
                {% render 'cc-heading', tag: 'h3', text: block.settings.heading, classes: 'text-sm font-semibold uppercase tracking-wide' %}
              {% endif %}
              <ul class="mt-4 space-y-2 text-sm">
                {% if block.settings.show_facebook and settings.social_facebook_link != blank %}
                  <li><a href="{{ settings.social_facebook_link }}" class="transition-opacity hover:opacity-75">Facebook</a></li>
                {% endif %}
                {% if block.settings.show_instagram and settings.social_instagram_link != blank %}
                  <li><a href="{{ settings.social_instagram_link }}" class="transition-opacity hover:opacity-75">Instagram</a></li>
                {% endif %}
                {% if block.settings.show_x and settings.social_twitter_link != blank %}
                  <li><a href="{{ settings.social_twitter_link }}" class="transition-opacity hover:opacity-75">X</a></li>
                {% endif %}
                {% if block.settings.show_tiktok and settings.social_tiktok_link != blank %}
                  <li><a href="{{ settings.social_tiktok_link }}" class="transition-opacity hover:opacity-75">TikTok</a></li>
                {% endif %}
              </ul>
            </div>
        {% endcase %}
      {% endfor %}
    </div>

    <div class="border-t border-current/10 pt-6 text-xs">
      <p>&copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. All rights reserved.</p>
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "CC Footer Shell",
  "settings": [
    {
      "type": "select",
      "id": "container",
      "label": "Container width",
      "default": "cc-container",
      "options": [
        {
          "value": "cc-container",
          "label": "CC Container"
        },
        {
          "value": "w-full px-4",
          "label": "Full width"
        }
      ]
    },
    {
      "type": "text",
      "id": "bg_class",
      "label": "Background classes",
      "default": "bg-neutral-900"
    },
    {
      "type": "text",
      "id": "text_class",
      "label": "Text classes",
      "default": "text-white"
    },
    {
      "type": "text",
      "id": "py",
      "label": "Padding classes",
      "default": "py-12"
    }
  ],
  "blocks": [
    {
      "type": "link_column",
      "name": "Link column",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Shop"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu"
        }
      ]
    },
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "richtext",
          "id": "content",
          "label": "Content",
          "default": "<p>Add your brand story or policies here.</p>"
        }
      ]
    },
    {
      "type": "social",
      "name": "Social links",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Follow"
        },
        {
          "type": "checkbox",
          "id": "show_facebook",
          "label": "Show Facebook",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_instagram",
          "label": "Show Instagram",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_x",
          "label": "Show X (Twitter)",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "show_tiktok",
          "label": "Show TikTok",
          "default": true
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "CC Footer Shell - Light",
      "settings": {
        "bg_class": "bg-white",
        "text_class": "text-neutral-900"
      },
      "blocks": [
        {
          "type": "link_column"
        },
        {
          "type": "text"
        },
        {
          "type": "social"
        }
      ]
    },
    {
      "name": "CC Footer Shell - Dark",
      "settings": {
        "bg_class": "bg-neutral-900",
        "text_class": "text-white"
      },
      "blocks": [
        {
          "type": "link_column"
        },
        {
          "type": "text"
        },
        {
          "type": "social"
        }
      ]
    }
  ]
}
{% endschema %}
